#!/usr/bin/env bash
__sh2_check() { local s="$1"; local loc="$2"; local mode="$3"; if (( s != 0 )); then if [[ "$mode" == "return" ]]; then return "$s"; else if [[ -n "$loc" ]]; then printf 'Error in %s\n' "$loc" >&2; fi; exit "$s"; fi; fi; }
__sh2_confirm() { __sh2_prompt="$1"; __sh2_default="$2"; shift 2; if [ "${SH2_NO:-}" = "1" ]; then printf '%s' '0'; return 0; fi; if [ "${SH2_YES:-}" = "1" ]; then printf '%s' '1'; return 0; fi; for __a in "$@"; do case "$__a" in --yes) printf '%s' '1'; return 0;; --no) printf '%s' '0'; return 0;; esac; done; if [ "${CI:-}" = "true" ] || ! [ -t 0 ]; then printf '%s' "$__sh2_default"; return 0; fi; while true; do if [ "$__sh2_default" = "1" ]; then printf '%s [Y/n] ' "$__sh2_prompt" >&2; else printf '%s [y/N] ' "$__sh2_prompt" >&2; fi; if ! IFS= read -r __sh2_ans; then printf '%s' "$__sh2_default"; return 0; fi; __sh2_ans_lc="$(printf '%s' "$__sh2_ans" | tr '[:upper:]' '[:lower:]')"; case "$__sh2_ans_lc" in y|yes) printf '%s' '1'; return 0;; n|no) printf '%s' '0'; return 0;; '') printf '%s' "$__sh2_default"; return 0;; esac; done; }
main() {
  export SH2_NO='1'
  if [ "$( __sh2_confirm 'Proceed? ' 0 "$@" )" = "1" ]; then
    printf '%s\n' 'YES'
  else
    printf '%s\n' 'NO'
  fi
}
__sh2_status=0
main "$@"
