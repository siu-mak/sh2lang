func main() {
  run("sh", "-c", "rm -rf tmp; mkdir -p tmp/dir; : > tmp/file; ln -s file tmp/link")
  if exists("tmp/file") && is_file("tmp/file") && is_dir("tmp/dir") && is_symlink("tmp/link") {
    print("ok")
  } else {
    print("bad")
  }
}
