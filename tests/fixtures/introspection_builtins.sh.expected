#!/usr/bin/env bash
__sh2_check() { local s="$1"; local loc="$2"; local mode="$3"; if (( s != 0 )); then if [[ -n "$loc" ]]; then printf 'Error in %s\n' "$loc" >&2; fi; if [[ "$mode" == "return" ]]; then return "$s"; else exit "$s"; fi; fi; }
__sh2_uid="$(id -u 2>/dev/null || printf '%s' 0)"
main() {
  (
    export FOO='bar'
    if [ "${FOO}" = 'bar' ]; then
      printf '%s\n' 'env_ok'
    else
      printf '%s\n' 'env_bad'
    fi
  )
  if [ "$( printf "%s" "$PWD" | awk 'BEGIN{l=0} {l=length($0)} END{print l}' )" -gt "0" ]; then
    printf '%s\n' 'pwd_ok'
  else
    printf '%s\n' 'pwd_bad'
  fi
  if [ "$( printf "%s" "$0" | awk 'BEGIN{l=0} {l=length($0)} END{print l}' )" -gt "0" ]; then
    printf '%s\n' 'argv0_ok'
  else
    printf '%s\n' 'argv0_bad'
  fi
  if [ "$#" = "0" ]; then
    printf '%s\n' 'argc_ok'
  else
    printf '%s\n' 'argc_bad'
  fi
  if [ "$$" -gt "0" ] && [ "$PPID" -gt "0" ]; then
    printf '%s\n' 'pid_ok'
  else
    printf '%s\n' 'pid_bad'
  fi
  if [ "$__sh2_uid" -ge "0" ]; then
    printf '%s\n' 'uid_ok'
  else
    printf '%s\n' 'uid_bad'
  fi
}
__sh2_status=0
main "$@"
