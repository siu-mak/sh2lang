func main() {
    try {
        pipe { run("sh","-c","echo hi") } | { run("sh","-c","exit 7") } | { run("sh","-c","cat") }
        print("NO")
    } catch {
        print("CAUGHT")
    }
    print(status())
}
